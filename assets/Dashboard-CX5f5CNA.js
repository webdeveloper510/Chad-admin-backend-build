import{a as m,_ as v,R as s,b as i,c as N,P as r,d as R,u as ye,y as Z,j as n}from"./index-BD5OxiOx.js";import{u as Ne,T as Ce,C as me,a as ge,b as xe,g as Ee,d as je}from"./DefaultLayout-CTMuJWIx.js";import{C as Te,a as we}from"./CCardBody-DDFC9ChI.js";import{a as ue}from"./index.esm-CPcmJYjw.js";import"./cil-lock-locked-DmxpJbVL.js";var q=m.forwardRef(function(e,l){var o=e.children,c=e.as,d=c===void 0?"div":c,a=e.className,u=v(e,["children","as","className"]);return s.createElement(d,i({className:N("card-header",a)},u,{ref:l}),o)});q.propTypes={as:r.elementType,children:r.node,className:r.string};q.displayName="CCardHeader";var G=m.forwardRef(function(e,l){var o=e.children,c=e.className,d=v(e,["children","className"]);return s.createElement("div",i({className:N("modal-content",c)},d,{ref:l}),o)});G.propTypes={children:r.node,className:r.string};G.displayName="CModalContent";var fe=m.createContext({}),J=m.forwardRef(function(e,l){var o,c=e.children,d=e.alignment,a=e.className,u=e.fullscreen,f=e.scrollable,b=e.size,h=v(e,["children","alignment","className","fullscreen","scrollable","size"]);return s.createElement("div",i({className:N("modal-dialog",(o={"modal-dialog-centered":d==="center"},o[typeof u=="boolean"?"modal-fullscreen":"modal-fullscreen-".concat(u,"-down")]=u,o["modal-dialog-scrollable"]=f,o["modal-".concat(b)]=b,o),a)},h,{ref:l}),c)});J.propTypes={alignment:r.oneOf(["top","center"]),children:r.node,className:r.string,fullscreen:r.oneOfType([r.bool,r.oneOf(["sm","md","lg","xl","xxl"])]),scrollable:r.bool,size:r.oneOf(["sm","lg","xl"])};J.displayName="CModalDialog";var Q=m.forwardRef(function(e,l){var o=e.children,c=e.alignment,d=e.backdrop,a=d===void 0?!0:d,u=e.className,f=e.container,b=e.duration,h=b===void 0?150:b,k=e.focus,O=k===void 0?!0:k,x=e.fullscreen,t=e.keyboard,F=t===void 0?!0:t,P=e.onClose,B=e.onClosePrevented,V=e.onShow,L=e.portal,H=L===void 0?!0:L,W=e.scrollable,U=e.size,z=e.transition,M=z===void 0?!0:z,p=e.unmountOnClose,T=p===void 0?!0:p,E=e.visible,$=v(e,["children","alignment","backdrop","className","container","duration","focus","fullscreen","keyboard","onClose","onClosePrevented","onShow","portal","scrollable","size","transition","unmountOnClose","visible"]),le=m.useRef(null),D=m.useRef(null),be=m.useRef(null),ve=Ne(l,D),ne=m.useState(E),j=ne[0],K=ne[1],se=m.useState(!1),ae=se[0],te=se[1],he={visible:j,setVisible:K};m.useEffect(function(){K(E)},[E]),m.useEffect(function(){var y;return j?(le.current=document.activeElement,document.addEventListener("mouseup",ie),document.addEventListener("keydown",de)):(y=le.current)===null||y===void 0||y.focus(),function(){document.removeEventListener("mouseup",ie),document.removeEventListener("keydown",de)}},[j]);var ce=function(){if(a==="static")return te(!0);K(!1)};m.useLayoutEffect(function(){B&&B(),setTimeout(function(){return te(!1)},h)},[ae]),m.useLayoutEffect(function(){return j?(document.body.classList.add("modal-open"),a&&(document.body.style.overflow="hidden",document.body.style.paddingRight="0px"),setTimeout(function(){var y;O&&((y=D.current)===null||y===void 0||y.focus())},M?h:0)):(document.body.classList.remove("modal-open"),a&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))),function(){document.body.classList.remove("modal-open"),a&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))}},[j]);var ie=function(y){D.current&&D.current==y.target&&ce()},de=function(y){y.key==="Escape"&&F&&ce()};return s.createElement(s.Fragment,null,s.createElement(Ce,{in:j,mountOnEnter:!0,nodeRef:D,onEnter:V,onExit:P,unmountOnExit:T,timeout:M?h:0},function(y){return s.createElement(me,{container:f,portal:H},s.createElement(fe.Provider,{value:he},s.createElement("div",i({className:N("modal",{"modal-static":ae,fade:M,show:y==="entered"},u),tabIndex:-1},j?{"aria-modal":!0,role:"dialog"}:{"aria-hidden":"true"},{style:i({},y!=="exited"&&{display:"block"})},$,{ref:ve}),s.createElement(J,{alignment:c,fullscreen:x,scrollable:W,size:U},s.createElement(G,{ref:be},o)))))}),a&&s.createElement(me,{container:f,portal:H},s.createElement(ge,{visible:j})))});Q.propTypes={alignment:r.oneOf(["top","center"]),backdrop:r.oneOfType([r.bool,r.oneOf(["static"])]),children:r.node,className:r.string,container:r.any,duration:r.number,focus:r.bool,fullscreen:r.oneOfType([r.bool,r.oneOf(["sm","md","lg","xl","xxl"])]),keyboard:r.bool,onClose:r.func,onClosePrevented:r.func,onShow:r.func,portal:r.bool,scrollable:r.bool,size:r.oneOf(["sm","lg","xl"]),transition:r.bool,unmountOnClose:r.bool,visible:r.bool};Q.displayName="CModal";var X=m.forwardRef(function(e,l){var o=e.children,c=e.className,d=v(e,["children","className"]);return s.createElement("div",i({className:N("modal-body",c)},d,{ref:l}),o)});X.propTypes={children:r.node,className:r.string};X.displayName="CModalBody";var Y=m.forwardRef(function(e,l){var o=e.children,c=e.className,d=v(e,["children","className"]);return s.createElement("div",i({className:N("modal-footer",c)},d,{ref:l}),o)});Y.propTypes={children:r.node,className:r.string};Y.displayName="CModalFooter";var _=m.forwardRef(function(e,l){var o=e.children,c=e.className,d=e.closeButton,a=d===void 0?!0:d,u=v(e,["children","className","closeButton"]),f=m.useContext(fe).setVisible;return s.createElement("div",i({className:N("modal-header",c)},u,{ref:l}),o,a&&s.createElement(xe,{onClick:function(){return f(!1)}}))});_.propTypes={children:r.node,className:r.string,closeButton:r.bool};_.displayName="CModalHeader";var S=m.forwardRef(function(e,l){var o,c=e.children,d=e.className,a=e.color,u=v(e,["children","className","color"]);return s.createElement("thead",i({className:N((o={},o["table-".concat(a)]=a,o),d)||void 0},u,{ref:l}),c)});S.propTypes={children:r.node,className:r.string,color:R};S.displayName="CTableHead";var g=m.forwardRef(function(e,l){var o,c=e.children,d=e.className,a=e.color,u=v(e,["children","className","color"]);return s.createElement("th",i({className:N((o={},o["table-".concat(a)]=a,o),d)||void 0},u,{ref:l}),c)});g.propTypes={children:r.node,className:r.string,color:R};g.displayName="CTableHeaderCell";var I=m.forwardRef(function(e,l){var o,c=e.children,d=e.className,a=e.color,u=v(e,["children","className","color"]);return s.createElement("tbody",i({className:N((o={},o["table-".concat(a)]=a,o),d)||void 0},u,{ref:l}),c)});I.propTypes={children:r.node,className:r.string,color:R};I.displayName="CTableBody";var C=m.forwardRef(function(e,l){var o,c=e.children,d=e.active,a=e.align,u=e.className,f=e.color,b=v(e,["children","active","align","className","color"]),h=b.scope?"th":"td";return s.createElement(h,i({className:N((o={},o["align-".concat(a)]=a,o["table-active"]=d,o["table-".concat(f)]=f,o),u)||void 0},b,{ref:l}),c)});C.propTypes={active:r.bool,align:r.oneOf(["bottom","middle","top"]),children:r.node,className:r.string,color:R};C.displayName="CTableDataCell";var w=m.forwardRef(function(e,l){var o,c=e.children,d=e.active,a=e.align,u=e.className,f=e.color,b=v(e,["children","active","align","className","color"]);return s.createElement("tr",i({className:N((o={},o["align-".concat(a)]=a,o["table-active"]=d,o["table-".concat(f)]=f,o),u)||void 0},b,{ref:l}),c)});w.propTypes={active:r.bool,align:r.oneOf(["bottom","middle","top"]),children:r.node,className:r.string,color:R};w.displayName="CTableRow";var A=m.forwardRef(function(e,l){var o,c=e.children,d=e.className,a=e.color,u=v(e,["children","className","color"]);return s.createElement("tfoot",i({className:N((o={},o["table-".concat(a)]=a,o),d)||void 0},u,{ref:l}),c)});A.propTypes={children:r.node,className:r.string,color:R};A.displayName="CTableFoot";var ee=m.forwardRef(function(e,l){var o=e.children,c=v(e,["children"]);return s.createElement("caption",i({},c,{ref:l}),o)});ee.propTypes={children:r.node};ee.displayName="CTableCaption";var re=function(e){var l=e.children,o=e.responsive,c=v(e,["children","responsive"]);return o?s.createElement("div",i({className:typeof o=="boolean"?"table-responsive":"table-responsive-".concat(o)},c),l):s.createElement(s.Fragment,null,l)};re.propTypes={children:r.node,responsive:r.oneOfType([r.bool,r.oneOf(["sm","md","lg","xl","xxl"])])};re.displayName="CTableResponsiveWrapper";var pe=function(e){return e.replace(/[-_.]/g," ").replace(/ +/g," ").replace(/([a-z0-9])([A-Z])/g,"$1 $2").split(" ").map(function(l){return l.charAt(0).toUpperCase()+l.slice(1)}).join(" ")},Re=function(e){var l;return typeof e=="object"?(l=e.label)!==null&&l!==void 0?l:pe(e.key):pe(e)},ke=function(e,l){return e?e.map(function(o){return typeof o=="object"?o.key:o}):l&&Oe(l)},Oe=function(e){return Object.keys(e[0]||{}).filter(function(l){return l.charAt(0)!=="_"})},oe=m.forwardRef(function(e,l){var o,c=e.children,d=e.align,a=e.borderColor,u=e.bordered,f=e.borderless,b=e.caption,h=e.captionTop,k=e.className,O=e.color,x=e.columns,t=e.footer,F=e.hover,P=e.items,B=e.responsive,V=e.small,L=e.striped,H=e.stripedColumns,W=e.tableFootProps,U=e.tableHeadProps,z=v(e,["children","align","borderColor","bordered","borderless","caption","captionTop","className","color","columns","footer","hover","items","responsive","small","striped","stripedColumns","tableFootProps","tableHeadProps"]),M=m.useMemo(function(){return ke(x,P)},[x,P]);return s.createElement(re,{responsive:B},s.createElement("table",i({className:N("table",(o={},o["align-".concat(d)]=d,o["border-".concat(a)]=a,o["caption-top"]=h||b==="top",o["table-bordered"]=u,o["table-borderless"]=f,o["table-".concat(O)]=O,o["table-hover"]=F,o["table-sm"]=V,o["table-striped"]=L,o["table-striped-columns"]=H,o),k)},z,{ref:l}),(b&&b!=="top"||h)&&s.createElement(ee,null,b||h),x&&s.createElement(S,i({},U),s.createElement(w,null,x.map(function(p,T){return s.createElement(g,i({},p._props&&i({},p._props),p._style&&{style:i({},p._style)},{key:T}),Re(p))}))),P&&s.createElement(I,null,P.map(function(p,T){return s.createElement(w,i({},p._props&&i({},p._props),{key:T}),M&&M.map(function(E,$){return p[E]!==void 0?s.createElement(C,i({},p._cellProps&&i(i({},p._cellProps.all&&i({},p._cellProps.all)),p._cellProps[E]&&i({},p._cellProps[E])),{key:$}),p[E]):null}))})),c,t&&s.createElement(A,i({},W),s.createElement(w,null,t.map(function(p,T){return s.createElement(C,i({},typeof p=="object"&&p._props&&i({},p._props),{key:T}),typeof p=="object"?p.label:p)})))))});oe.propTypes={align:r.oneOf(["bottom","middle","top"]),borderColor:r.string,bordered:r.bool,borderless:r.bool,caption:r.oneOfType([r.string,r.oneOf(["top"])]),captionTop:r.string,children:r.node,className:r.string,color:R,columns:r.array,footer:r.array,hover:r.bool,items:r.array,responsive:r.oneOfType([r.bool,r.oneOf(["sm","md","lg","xl","xxl"])]),small:r.bool,striped:r.bool,stripedColumns:r.bool,tableFootProps:r.shape(i({},A.propTypes)),tableHeadProps:r.shape(i({},S.propTypes))};oe.displayName="CTable";const Be=()=>{const[e,l]=m.useState([]),[o,c]=m.useState(!0),[d,a]=m.useState(!1),[u,f]=m.useState(null);console.log("ðŸš€ ~ Dashboard ~ selectedItemId:",u);const b=ye();m.useEffect(()=>{h()},[]);const h=async()=>{try{const t=await Ee();t.status===200?l(t.data):l([])}catch(t){console.error("Error fetching websites:",t),Z.error("Failed to fetch websites")}finally{c(!1)}},k=t=>{b("/loanadmin/edit-website",{state:{websiteData:t}})},O=t=>{f(t),a(!0)},x=async()=>{try{(await je(u)).status===200&&(Z.success("Website deleted successfully!"),h())}catch(t){console.error("Error deleting website:",t),Z.error("Failed to delete website. Please try again.")}finally{a(!1),f(null)}};return n.jsxs(n.Fragment,{children:[n.jsxs(Te,{className:"mb-4",children:[n.jsx(q,{children:n.jsx("h2",{className:"title_tb",children:"Submitted Websites"})}),n.jsx(we,{children:o?n.jsx("div",{className:"text-center py-4",children:"Loading..."}):e.length===0?n.jsx("div",{className:"text-center py-4",children:"No websites found."}):n.jsxs(oe,{striped:!0,hover:!0,responsive:!0,submited_table:!0,className:"submited_tb",children:[n.jsx(S,{children:n.jsxs(w,{children:[n.jsx(g,{scope:"col",className:"sr_no",children:"Sr No"}),n.jsx(g,{scope:"col",className:"Country",children:"Country"}),n.jsx(g,{scope:"col",className:"finance_name",children:"Finance Name"}),n.jsx(g,{scope:"col",className:"url",children:"Url"}),n.jsx(g,{scope:"col",className:"custom_data",children:"Custom Data"}),n.jsx(g,{scope:"col",className:"custom_action",children:"Actions"})]})}),n.jsx(I,{children:e==null?void 0:e.slice().reverse().map((t,F)=>n.jsxs(w,{children:[n.jsx(C,{children:F+1}),n.jsx(C,{children:t==null?void 0:t.country}),n.jsx(C,{children:t.website_name}),n.jsx(C,{children:n.jsx("a",{href:t==null?void 0:t.website_url,target:"_blank",rel:"noopener noreferrer",children:t==null?void 0:t.website_url})}),n.jsx(C,{children:n.jsxs("div",{className:"mb-2 p-2 bg-light border rounded",style:{fontSize:"0.9rem"},children:[n.jsx("strong",{children:"Loan Type:"})," ",t.loan_type," ",n.jsx("br",{}),n.jsx("strong",{children:"Loan Amount Minimum:"})," ",t.min_amount," ",n.jsx("br",{}),n.jsx("strong",{children:"Loan Amount Maximum:"})," ",t.max_amount," ",n.jsx("br",{}),n.jsx("strong",{children:"Credit Score Minimum:"})," ",t.min_credit_score," ",n.jsx("br",{}),n.jsx("strong",{children:"Credit Score Maximum:"})," ",t.max_credit_score," ",n.jsx("br",{}),n.jsx("strong",{children:"Interest Rate:"})," ",parseFloat(t.interest_rate).toFixed(1)]})}),n.jsxs(C,{children:[n.jsx("button",{className:"btn btn-sm btn-warning me-2 Edit_btn",onClick:()=>k(t),children:"Edit"}),n.jsx("button",{className:"btn btn-sm btn-danger delete_btn",onClick:()=>O(t.id),children:"Delete"})]})]},t._id))})]})})]}),n.jsxs(Q,{visible:d,onClose:()=>a(!1),className:"delete_modal",children:[n.jsx(_,{closeButton:!0,children:n.jsx("strong",{children:"Confirm Delete"})}),n.jsx(X,{children:"Are you sure you want to delete this website? This action cannot be undone."}),n.jsxs(Y,{children:[n.jsx(ue,{color:"secondary",onClick:()=>a(!1),children:"Cancel"}),n.jsx(ue,{color:"danger",onClick:x,children:"Delete"})]})]})]})};export{Be as default};
